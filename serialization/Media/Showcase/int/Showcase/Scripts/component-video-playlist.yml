---
ID: "682e34eb-1deb-4468-b9ba-b9ac8bad5c46"
Parent: "f96e1925-a3cc-4752-b969-70feb5b5d696"
Template: "962b53c4-f93b-4df9-9821-415c867b8903"
Path: "/sitecore/media library/Project/Showcase/int/Showcase/Scripts/component-video-playlist"
DB: master
SharedFields:
- ID: "06d5295c-ed2f-4a54-9bf2-26228d113318"
  Hint: __Icon
  Value: "-/media/682E34EB1DEB4468B9BAB9AC8BAD5C46.ashx?h=16&thn=1&w=16"
- ID: "40e50ed9-ba07-4702-992e-a912738d32dc"
  Hint: Blob
  BlobID: "2aee5fba-4eaa-4901-8790-fe6367ba4596"
  Value: WEEuY29tcG9uZW50LnBsYXlsaXN0ID0gKGZ1bmN0aW9uICgkLCBkb2N1bWVudCkgew0KDQogICAgdmFyIGFwaSA9IHt9Ow0KDQogICAgZnVuY3Rpb24gUGxheWxpc3QocGxheWxpc3QsIHByb3BlcnRpZXMpIHsNCiAgICAgICAgdGhpcy5wcm9wZXJ0aWVzID0gcHJvcGVydGllczsNCiAgICAgICAgdGhpcy5wbGF5bGlzdCA9IHBsYXlsaXN0Ow0KICAgICAgICB0aGlzLmFjdGl2ZVZpZGVvID0gMDsNCiAgICAgICAgdGhpcy5wbGF5bGlzdEl0ZW1zID0gMDsNCiAgICB9DQoNCiAgICBQbGF5bGlzdC5wcm90b3R5cGUuY3JlYXRlTmV3U291cmNlcyA9IGZ1bmN0aW9uIChzb3VyY2UsIHZpZGVvQ29udGFpbmVyKSB7DQogICAgICAgIHZhciBuZXdTb3VyY2U7DQoNCiAgICAgICAgdmFyIHNvdXJjZUJ1aWxkZXIgPSBmdW5jdGlvbiAocGF0aCkgew0KICAgICAgICAgICAgdmFyIG5ld1NvdXJjZSA9ICQoIjxzb3VyY2U+IiksDQogICAgICAgICAgICAgICAgdHlwZTsNCg0KICAgICAgICAgICAgaWYgKHBhdGgubWF0Y2goL1wuKG1wNCkkLykpIHsNCiAgICAgICAgICAgICAgICB0eXBlID0gInZpZGVvL21wNCI7DQogICAgICAgICAgICB9IGVsc2UgaWYgKHBhdGgubWF0Y2goL1wuKHdlYm0pJC8pKSB7DQogICAgICAgICAgICAgICAgdHlwZSA9ICJ2aWRlby93ZWJtIjsNCiAgICAgICAgICAgIH0gZWxzZSBpZiAocGF0aC5tYXRjaCgvXC4ob2d2KSQvKSkgew0KICAgICAgICAgICAgICAgIHR5cGUgPSAidmlkZW8vb2dnIjsNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgdHlwZSA9ICJ2aWRlby95b3V0dWJlIjsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgbmV3U291cmNlLmF0dHIoew0KICAgICAgICAgICAgICAgICJ0eXBlIjogdHlwZSwNCiAgICAgICAgICAgICAgICAic3JjIjogcGF0aA0KICAgICAgICAgICAgfSk7DQoNCiAgICAgICAgICAgIHJldHVybiBuZXdTb3VyY2U7DQogICAgICAgIH07DQoNCiAgICAgICAgaWYgKHNvdXJjZSBpbnN0YW5jZW9mIEFycmF5KSB7DQogICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNvdXJjZS5sZW5ndGg7IGkrKykgew0KICAgICAgICAgICAgICAgIG5ld1NvdXJjZSA9IHNvdXJjZUJ1aWxkZXIoc291cmNlW2ldKTsNCiAgICAgICAgICAgICAgICB2aWRlb0NvbnRhaW5lci5maW5kKCJ2aWRlbyIpLmFwcGVuZChuZXdTb3VyY2UpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgbmV3U291cmNlID0gc291cmNlQnVpbGRlcihzb3VyY2UpOw0KICAgICAgICAgICAgdmlkZW9Db250YWluZXIuZmluZCgidmlkZW8iKS5hcHBlbmQobmV3U291cmNlKTsNCiAgICAgICAgfQ0KICAgIH07DQoNCiAgICBQbGF5bGlzdC5wcm90b3R5cGUucmVwbGFjZVNvdXJjZSA9IGZ1bmN0aW9uIChpdGVtSW5kZXgsIGxvYWRGcm9tRXZlbnQpIHsNCiAgICAgICAgdmFyIGluc3QgPSB0aGlzLA0KICAgICAgICAgICAgdmlkZW9Db250YWluZXIsDQogICAgICAgICAgICB2aWRlb0Nsb25lLA0KICAgICAgICAgICAgbmV3U3JjID0gaW5zdC5wcm9wZXJ0aWVzLnNvdXJjZXNbaXRlbUluZGV4XS5zcmMsDQogICAgICAgICAgICBzb3VyY2VzLA0KICAgICAgICAgICAgdmlkZW9JZCwNCiAgICAgICAgICAgIHZpZGVvQ29udGFpbmVySGVpZ2h0ID0gMDsNCg0KICAgICAgICAkKGluc3QucHJvcGVydGllcy5wbGF5bGlzdElkKS5lYWNoKGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgIHZpZGVvQ29udGFpbmVyID0gJCh0aGlzKTsNCiAgICAgICAgICAgIHZpZGVvSWQgPSBpbnN0LnByb3BlcnRpZXMucGxheWxpc3RJZDsNCg0KICAgICAgICAgICAgaWYgKCh2aWRlb0NvbnRhaW5lci5pcyh2aWRlb0lkKSAmJiAobmV3U3JjLmxlbmd0aCkpKSB7DQogICAgICAgICAgICAgICAgdmlkZW9Db250YWluZXIuYWRkQ2xhc3MoInNob3ciKTsNCg0KICAgICAgICAgICAgICAgIC8qbWVqcy5wbGF5ZXJzW2lkXS5wYXVzZSgpOw0KICAgICAgICAgICAgICAgIG1lanMucGxheWVyc1tpZF0uc2V0U3JjKG5ld1NyYyk7ICAgICAgICANCiAgICAgICAgICAgICAgICBtZWpzLnBsYXllcnNbaWRdLm1lZGlhLmxvYWQoKTsNCiAgICAgICAgICAgICAgICBtZWpzLnBsYXllcnNbaWRdLnBsYXkoKTsqLw0KICAgICAgICAgICAgICAgIC8qYWJvdmUgZG9lc2VudCB3b3JrIHdoZW4gY2huYWdpbmcgYmVldHdlZW4gaG9zdGVkIGFuZCB5b3V0dWJlIHZpZGVvcyovDQoNCiAgICAgICAgICAgICAgICBzb3VyY2VzID0gdmlkZW9Db250YWluZXIuZmluZCgic291cmNlIik7DQogICAgICAgICAgICAgICAgc291cmNlcy5yZW1vdmUoKTsNCiAgICAgICAgICAgICAgICBpbnN0LmNyZWF0ZU5ld1NvdXJjZXMobmV3U3JjLCB2aWRlb0NvbnRhaW5lcik7DQogICAgICAgICAgICAgICAgdmlkZW9Db250YWluZXIuZmluZCgidmlkZW8iKS5hdHRyKHsNCiAgICAgICAgICAgICAgICAgICAgc3JjOiAiIg0KICAgICAgICAgICAgICAgIH0pLnNob3coKTsNCg0KICAgICAgICAgICAgICAgIHZhciBhdXRvcGxheVZpZGVvID0gZmFsc2U7DQogICAgICAgICAgICAgICAgaWYobG9hZEZyb21FdmVudCl7DQogICAgICAgICAgICAgICAgICAgIGlmKGluc3QucHJvcGVydGllcy5hdXRvUGxheVNlbGVjdGVkKXsNCiAgICAgICAgICAgICAgICAgICAgICAgIGF1dG9wbGF5VmlkZW8gPSB0cnVlOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICBpZiAoaW5zdC5wcm9wZXJ0aWVzLmF1dG9QbGF5KSB7DQogICAgICAgICAgICAgICAgICAgICAgICBhdXRvcGxheVZpZGVvID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgIGlmKGF1dG9wbGF5VmlkZW8pIHsNCiAgICAgICAgICAgICAgICAgICAgdmlkZW9Db250YWluZXIuZmluZCgidmlkZW8iKS5hdHRyKHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGF1dG9wbGF5OiAiIg0KICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICB2aWRlb0Nsb25lID0gdmlkZW9Db250YWluZXIuZmluZCgidmlkZW8iKS5jbG9uZSgpOw0KICAgICAgICAgICAgICAgIHZpZGVvQ29udGFpbmVySGVpZ2h0ID0gdmlkZW9Db250YWluZXIuaGVpZ2h0KCk7DQogICAgICAgICAgICAgICAgdmlkZW9Db250YWluZXIuY3NzKHsNCiAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6IHZpZGVvQ29udGFpbmVySGVpZ2h0DQogICAgICAgICAgICAgICAgfSk7DQoNCiAgICAgICAgICAgICAgICB2YXIgaWQgPSB2aWRlb0NvbnRhaW5lci5maW5kKCIubWVqcy1jb250YWluZXIiKS5hdHRyKCJpZCIpOw0KICAgICAgICAgICAgICAgIGlmIChpZCkgew0KICAgICAgICAgICAgICAgICAgICAkKCIjIiArIGlkKS5yZW1vdmUoKTsNCiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIG1lanMucGxheWVyc1tpZF07DQogICAgICAgICAgICAgICAgICAgIHZpZGVvQ29udGFpbmVyLmZpbmQoIi5jb21wb25lbnQtY29udGVudCIpLmFwcGVuZCh2aWRlb0Nsb25lKTsNCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICB2YXIgcGxheWVyID0gWEEuY29tcG9uZW50LnZpZGVvLmluaXRWaWRlb0Zyb21QbGF5bGlzdCh2aWRlb0NvbnRhaW5lciwgaW5zdC5wbGF5bGlzdCk7DQogICAgICAgICAgICAgICAgdmlkZW9Db250YWluZXIuY3NzKHsNCiAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJhdXRvIg0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9KTsNCiAgICB9Ow0KDQogICAgUGxheWxpc3QucHJvdG90eXBlLmxvYWRQbGF5bGlzdFZpZGVvID0gZnVuY3Rpb24oKSB7DQogICAgICAgIHZhciBpbnN0ID0gdGhpcywNCiAgICAgICAgICAgIHBsYXlsaXN0SXRlbXMgPSAkKGluc3QucGxheWxpc3QpLmZpbmQoIi5wbGF5bGlzdC1pdGVtIiksDQogICAgICAgICAgICBhY3RpdmVMaXN0SXRlbTsNCg0KICAgICAgICBpbnN0LnBsYXlsaXN0SXRlbXMgPSBwbGF5bGlzdEl0ZW1zLmxlbmd0aDsNCiAgICAgICAgdmFyIGxvYWRWaWRlb0Zyb21QbGF5bGlzdCA9IGZ1bmN0aW9uKGxvYWRGcm9tRXZlbnQpIHsNCiAgICAgICAgICAgIGluc3QucmVwbGFjZVNvdXJjZShpbnN0LmFjdGl2ZVZpZGVvLCBsb2FkRnJvbUV2ZW50KTsNCiAgICAgICAgICAgIGFjdGl2ZUxpc3RJdGVtID0gcGxheWxpc3RJdGVtcy5lcShpbnN0LmFjdGl2ZVZpZGVvKTsNCiAgICAgICAgICAgIGFjdGl2ZUxpc3RJdGVtLmFkZENsYXNzKCJhY3RpdmUiKTsNCiAgICAgICAgICAgIGFjdGl2ZUxpc3RJdGVtLnNpYmxpbmdzKCkucmVtb3ZlQ2xhc3MoImFjdGl2ZSIpOw0KICAgICAgICB9DQoNCiAgICAgICAgbG9hZFZpZGVvRnJvbVBsYXlsaXN0KCk7DQogICAgICAgICQoaW5zdC5wbGF5bGlzdCkub24oImNoYW5nZS12aWRlbyIsIGZ1bmN0aW9uKGV2ZW50LCBwcm9wZXJ0aWVzKSB7DQogICAgICAgICAgICB2YXIgbG9hZE5ld1ZpZGVvID0gZmFsc2U7DQoNCiAgICAgICAgICAgIGlmIChwcm9wZXJ0aWVzKSB7DQogICAgICAgICAgICAgICAgaWYgKHByb3BlcnRpZXMuaGFzT3duUHJvcGVydHkoImJhY2siKSkgew0KICAgICAgICAgICAgICAgICAgICBpbnN0LmFjdGl2ZVZpZGVvLS07DQogICAgICAgICAgICAgICAgICAgIGlmIChpbnN0LmFjdGl2ZVZpZGVvIDwgMCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgaW5zdC5hY3RpdmVWaWRlbyA9IDA7DQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICBsb2FkTmV3VmlkZW8gPSB0cnVlOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgaW5zdC5hY3RpdmVWaWRlbysrOw0KICAgICAgICAgICAgICAgICAgICBpZiAoaW5zdC5hY3RpdmVWaWRlbyA9PT0gaW5zdC5wbGF5bGlzdEl0ZW1zKSB7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbnN0LnByb3BlcnRpZXMucmVwZWF0QWZ0ZXJBbGwpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnN0LmFjdGl2ZVZpZGVvID0gMDsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2FkTmV3VmlkZW8gPSB0cnVlDQogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluc3QuYWN0aXZlVmlkZW8gPSBpbnN0LnBsYXlsaXN0SXRlbXMgLSAxOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgbG9hZE5ld1ZpZGVvID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICBpZiAoaW5zdC5wcm9wZXJ0aWVzLnBsYXlOZXh0KSB7DQogICAgICAgICAgICAgICAgICAgIGlmICgoaW5zdC5hY3RpdmVWaWRlbyArIDEpIDw9IGluc3QucGxheWxpc3RJdGVtcykgew0KICAgICAgICAgICAgICAgICAgICAgICAgaW5zdC5hY3RpdmVWaWRlbysrOw0KDQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5zdC5hY3RpdmVWaWRlbyA9PT0gaW5zdC5wbGF5bGlzdEl0ZW1zKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5zdC5hY3RpdmVWaWRlbyA9IDA7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5zdC5wcm9wZXJ0aWVzLnJlcGVhdEFmdGVyQWxsKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvYWROZXdWaWRlbyA9IHRydWU7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnN0LmFjdGlWaWRlby0tOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvYWROZXdWaWRlbyA9IHRydWU7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIGlmIChsb2FkTmV3VmlkZW8pIHsNCiAgICAgICAgICAgICAgICBsb2FkVmlkZW9Gcm9tUGxheWxpc3QodHJ1ZSk7DQogICAgICAgICAgICB9DQogICAgICAgIH0pOw0KICAgIH07DQoNCiAgICBQbGF5bGlzdC5wcm90b3R5cGUuYXR0YWNoRXZlbnRzID0gZnVuY3Rpb24oKSB7DQogICAgICAgIHZhciBpbnN0ID0gdGhpcywNCiAgICAgICAgICAgIGxpbmsgPSAkKGluc3QucGxheWxpc3QpLmZpbmQoIi5wbGF5bGlzdC1zZWN0aW9uIGEiKSwNCiAgICAgICAgICAgIG5hdkl0ZW1zID0gJChpbnN0LnBsYXlsaXN0KS5maW5kKCIucGxheWxpc3QtbmF2IGEiKSwNCiAgICAgICAgICAgIHBsYXlsaXN0SXRlbTsNCg0KICAgICAgICBsaW5rLm9uKCJjbGljayIsIGZ1bmN0aW9uKGV2ZW50KSB7DQogICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOw0KDQogICAgICAgICAgICBwbGF5bGlzdEl0ZW0gPSAkKHRoaXMpLnBhcmVudHMoIi5wbGF5bGlzdC1pdGVtIik7DQogICAgICAgICAgICBpdGVtSW5kZXggPSBwbGF5bGlzdEl0ZW0uaW5kZXgoKTsNCg0KICAgICAgICAgICAgaWYgKGl0ZW1JbmRleCAhPT0gaW5zdC5hY3RpdmVWaWRlbykgew0KICAgICAgICAgICAgICAgIHBsYXlsaXN0SXRlbS5hZGRDbGFzcygiYWN0aXZlIik7DQogICAgICAgICAgICAgICAgcGxheWxpc3RJdGVtLnNpYmxpbmdzKCkucmVtb3ZlQ2xhc3MoImFjdGl2ZSIpOw0KICAgICAgICAgICAgICAgIGluc3QucmVwbGFjZVNvdXJjZShpdGVtSW5kZXgsIHRydWUpOw0KICAgICAgICAgICAgICAgIGluc3QuYWN0aXZlVmlkZW8gPSBpdGVtSW5kZXg7DQogICAgICAgICAgICB9DQogICAgICAgIH0pOw0KDQogICAgICAgIG5hdkl0ZW1zLm9uKCJjbGljayIsIGZ1bmN0aW9uKGV2ZW50KSB7DQogICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOw0KICAgICAgICAgICAgdmFyIHByb3BlcnRpZXMgPSB7fTsNCg0KICAgICAgICAgICAgaWYgKCQodGhpcykucGFyZW50KCkuaGFzQ2xhc3MoInBsYXlsaXN0LXByZXYiKSkgew0KICAgICAgICAgICAgICAgIHByb3BlcnRpZXMuYmFjayA9IHRydWU7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICQoaW5zdC5wbGF5bGlzdCkudHJpZ2dlcigiY2hhbmdlLXZpZGVvIiwgcHJvcGVydGllcyk7DQogICAgICAgIH0pOw0KDQogICAgfTsNCg0KDQogICAgYXBpLmluaXQgPSBmdW5jdGlvbigpIHsNCiAgICAgICAgdmFyIHBsYXlsaXN0cyA9ICQoIi5wbGF5bGlzdC5jb21wb25lbnQ6bm90KC5pbml0aWFsaXplZCkiKSwNCiAgICAgICAgICAgIHByb3BlcnRpZXMsDQogICAgICAgICAgICBwbGF5bGlzdDsNCg0KICAgICAgICBwbGF5bGlzdHMuZWFjaChmdW5jdGlvbigpIHsNCiAgICAgICAgICAgIHByb3BlcnRpZXMgPSAkKHRoaXMpLmRhdGEoInByb3BlcnRpZXMiKTsNCg0KICAgICAgICAgICAgJChwcm9wZXJ0aWVzLnBsYXlsaXN0SWQpLmFkZENsYXNzKCJpbml0aWFsaXplZCIpOyAvL3ByZXZlbnQgdmlkZW8gaW5pdCBpbiBjb21wb25lbnQtdmlkZW8uanMNCiAgICAgICAgICAgIGlmIChwcm9wZXJ0aWVzLnNvdXJjZXMubGVuZ3RoKSB7DQogICAgICAgICAgICAgICAgcGxheWxpc3QgPSBuZXcgUGxheWxpc3QodGhpcywgcHJvcGVydGllcyk7DQogICAgICAgICAgICAgICAgcGxheWxpc3QubG9hZFBsYXlsaXN0VmlkZW8oKTsNCiAgICAgICAgICAgICAgICBwbGF5bGlzdC5hdHRhY2hFdmVudHMoKTsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygiaW5pdGlhbGl6ZWQiKTsNCiAgICAgICAgfSk7DQogICAgfTsNCg0KICAgIHJldHVybiBhcGk7DQp9KGpRdWVyeSwgZG9jdW1lbnQpKTsNCg0KWEEucmVnaXN0ZXIoInBsYXlsaXN0IiwgWEEuY29tcG9uZW50LnBsYXlsaXN0KTs=
- ID: "6954b7c7-2487-423f-8600-436cb3b6dc0e"
  Hint: Size
  Value: 8024
- ID: "6f47a0a5-9c94-4b48-abeb-42d38def6054"
  Hint: Mime Type
  Value: "application/x-javascript"
- ID: "c06867fe-9a43-4c7d-b739-48780492d06f"
  Hint: Extension
  Value: js
Languages:
- Language: en
  Versions:
  - Version: 1
    Fields:
    - ID: "25bed78c-4957-4165-998a-ca1b52f67497"
      Hint: __Created
      Value: 20170328T231912Z
    - ID: "5dd74568-4d4b-44c1-b513-0af5f4cda34f"
      Hint: __Created by
      Value: sitecore\Admin
